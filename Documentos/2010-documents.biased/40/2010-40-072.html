<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Socket Programming in C# .Net: Asynchronous Socket Server  Programming for  Beginner</title><script type="text/javascript">(function() { var a=window;function e(b){this.t={};this.tick=function(c,h,d){d=d?d:(new Date).getTime();this.t[c]=[d,h]};this.tick("start",null,b)}var f=new e;a.jstiming={Timer:e,load:f};try{a.jstiming.pt=a.chrome&&a.chrome.csi?Math.floor(a.chrome.csi().pageT):a.gtbExternal&&a.gtbExternal.pageT()||a.external&&a.external.pageT}catch(g){};a.tickAboveFold=function(b){b=b;var c=0;if(b.offsetParent){do c+=b.offsetTop;while(b=b.offsetParent)}b=c;b<=750&&a.jstiming.load.tick("aft")};var i=false;function j(){if(!i){i=true;a.jstiming.load.tick("firstScrollTime")}}a.addEventListener?a.addEventListener("scroll",j,false):a.attachEvent("onscroll",j); })();</script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="MSSmartTagsPreventParsing" content="true" />
<meta name="generator" content="Blogger" />
<link rel="icon" type="image/vnd.microsoft.icon" href="http://www.blogger.com/favicon.ico"/>
<link rel="alternate" type="application/atom+xml" title="Socket Programming in C# .Net - Atom" href="http://socketprogramming.blogspot.com/feeds/posts/default" />
<link rel="alternate" type="application/rss+xml" title="Socket Programming in C# .Net - RSS" href="http://socketprogramming.blogspot.com/feeds/posts/default?alt=rss" />
<link rel="service.post" type="application/atom+xml" title="Socket Programming in C# .Net - Atom" href="http://www.blogger.com/feeds/4193683792173214666/posts/default" />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.blogger.com/rsd.g?blogID=4193683792173214666" />
<link rel="alternate" type="application/atom+xml" title="Socket Programming in C# .Net - Atom" href="http://socketprogramming.blogspot.com/feeds/3013392495422254486/comments/default" />
 <link rel="stylesheet" type="text/css" href="http://www.blogger.com/static/v1/v-css/50269083-blog_controls.css"/> <link rel="stylesheet" type="text/css" href="http://www.blogger.com/dyn-css/authorization.css?targetBlogID=4193683792173214666&zx=affbd4d8-3f46-4f00-a4ef-7280989db580"/><script type="text/javascript" src="http://www.blogger.com/static/v1/v-js/1188848481-backlink.js"></script>
<script type="text/javascript" src="http://www.blogger.com/static/v1/v-js/463928704-backlink_control.js"></script>
<script type="text/javascript">var BL_backlinkURL = "http://www.blogger.com/dyn-js/backlink_count.js";var BL_blogId = "4193683792173214666";</script>

    <link rel="alternate" type="application/atom+xml" title="Atom 0.3" href="http://socketprogramming.blogspot.com//atom.xml" />
    <style type="text/css" media="screen">


/* ---------------------------------------------------
			global settings		
------------------------------------------------------ */
* {
margin: 0;
padding: 0;
}
body {
background: #fff;	
font: 100%/1.4em "lucida sans unicode", "lucida grande", verdana, 'trebuchet ms', sans-serif;
color: #666;
text-align: center;
}

/* links */

a:link {
text-decoration: none;
color: #c30;
}
a:visited {
text-decoration: none;
color: #c30;
}
a:hover {
text-decoration: none;
color: #930;
}
a:active {
text-decoration: none;
color: #c30;
}
a img { 
border: 0; 
}

/* hn */

h1, h2, h3, h4, h5, h6 { 
font-weight: normal; 
color: #333;
}
h1, h2, h3, h4, h5, h6, p {
margin: 10px 0;
}
h1 {
font-size: 1.3em;
}
h2 {
font-size: 1.1em;
}
h3 {
font-size: 1em;
}
h4 {
font-size: 0.9em;
}

/* misc */

abbr, acronym {
font-style: normal; 
border-bottom: 1px dotted #666; 
cursor: help;
}
code {
margin: 10px 0;
font: 0.9em "Courier New", Courier, Monospace;
color: #666;
background-color: #f8f8f8;
}
pre {
margin: 10px 0;
font: 110% "Courier New", Courier, Monospace;
color: #666;
}

/* defination lists */

dl {
margin: 20px 0;
}
dt {
font-size: 0.9em;
text-transform: uppercase;
}
dd {
margin: 0 0 20px;
}

/* list styles */

ul {
margin: 10px 0;
} 
ul li {
height: 1%;
list-style-type: none;
margin: 0 0 5px 0;
padding: 0 0 0 15px;
line-height: 20px;
}
ol {
margin: 10px 0 10px 25px;
}
ol li {
margin: 0 0 5px 0;
}

/* blockquote */

blockquote {
margin: 10px 0;
padding: 5px 10px;
border-top: 1px solid #eee;
border-bottom: 1px solid #eee;
font: 0.9em/1.5em georgia, "lucida sans unicode", "trebuchet ms", sans-serif;
color: #666;
}
/* ---------------------------------------------------
			layout		
------------------------------------------------------ */
#kisswrap {
width: 800px;
margin: 0 auto;
text-align: left; 
}
#kisscontainer {
height: 1%;
margin: 15px 0;
}
#kisscontainer-top {
height: 30px;
}
#kisscontainer-bottom {
clear: both;
height: 30px;
}
/* ---------------------------------------------------
			header
------------------------------------------------------ */
#kissheader {
width: 800px;
height: 1%;
padding: 0 0 12px;
text-align: center;
}
#kissheader div {
padding: 10px 20px;
}
#kissheader h1 {
margin: 0;
font-size: 0.9em;
letter-spacing: 0.2em;
text-transform: uppercase;
}
#kissheader h1 a {
color: #eee;
}
#kissheader h1 a:hover {
color: #fff;
}
h2.description {
margin: 0;
font-size: 0.75em;
color: #b2b2b2;
line-height: 1.4em;
}
/* ---------------------------------------------------
			main column		
------------------------------------------------------ */
#kissmain {
width: 600px;
display: inline; 
float: left;
font-size: 0.75em;
}
#kissmain-1 {
margin: 20px 35px;
}

/* post */

div.post {
margin: 0 0 20px;
padding: 0 0 40px;
}
h2.post-title {
margin: 0;
font: 0.9em georgia, "lucida sans unicode", "trebuchet ms", sans-serif;
color: #333;
text-transform: uppercase;
letter-spacing: 0.5em;
text-align: center;
}                  
h3.post-date {
margin: 0;
font-size: 0.85em;
color: #999;
text-align: center;
}
div.post-body {
margin: 20px 0 0;
}
p.postmetadata {
margin: 20px 0 0;
padding: 0 0 0 20px;
line-height: 19px;
font-size: 0.85em;
color: #999;
}
p.prev-next {
height: 1%;
margin: 0 0 20px;
padding: 0 0 20px;
text-align: center;
}



/* Comments */

#comments {
margin: 20px 0;
padding: 0 0 40px;
}
#comments h2 {
margin: 0;
font: 0.9em georgia, "lucida sans unicode", "trebuchet ms", sans-serif;
color: #333;
text-transform: uppercase;
letter-spacing: 0.5em;
text-align: center;
}
#comments ol {
}
#comments li {
height: 1%;
margin: 0 0 20px;
padding: 0 0 20px;
font-size: 0.9em;
}
#comments li span {
font-size: 0.95em;
text-transform: uppercase;
}
#commentform label {
display: block;
font-size: 0.85em;
text-transform: uppercase;
}
#author, 
#email,
#url,
#comment {
width: 90%;
margin: 0 0 10px;
padding: 2px;
border: 1px solid #ccc;
}
#searchsubmit, #submit {
padding: 2px;
background: #eee;
border: 3px double #666;
border-top-color: #ccc;
border-left-color: #ccc;
font-size: 85%;
color: #333;
text-transform: uppercase;
text-align: center;
letter-spacing: 0.1em;
}

/* ---------------------------------------------------
			side		
------------------------------------------------------ */
#sidebar {
display: inline; 
float: left;
width: 180px;
margin: 10px 0;
font-size: 0.7em;
}
div.side-sec {
height: 1%;
margin: 0 0 10px 15px;
padding: 0 0 10px;
}
div.side-sec h3 {
font-size: 1em;
text-transform: uppercase;
}
div.side-sec li {
list-style-type: none;
padding: 0 0 0 15px;
line-height: 20px;
}
div.side-sec search {
padding: 0 0 20px;
}
#sidebar #searchsubmit {
padding: 2px;
background: #eee;
border: 3px double #666;
border-top-color: #ccc;
border-left-color: #ccc;
font-size: 85%;
color: #333;
text-transform: uppercase;
text-align: center;
letter-spacing: 0.1em;
}
#sidebar #searchform #s {
width: 90%;
margin: 0 0 10px;
padding: 4px;
border: 1px solid #ccc;
}



/* footer */

#footer {
padding: 0 0 0 1px;
margin: 0 auto;
width: 760px;
clear: both;
}
#footer p {
margin: 0;
padding: 20px 0;
text-align: center;
}

/* Images */

p img {
padding: 0;
max-width: 100%;
}
img.centered {
display: block;
margin-left: auto;
margin-right: auto;
}
img.alignright {
padding: 4px;
margin: 0 0 2px 7px;
display: inline;
}
img.alignleft {
padding: 4px;
margin: 0 7px 2px 0;
display: inline;
}
.alignright {
float: right;
}
.alignleft {
float: left
}

ul li {
background: url('iconarrow.gif') no-repeat 0 0;
}

#kisscontainer {
background: url('main.gif') 0 100% repeat-y;
}

#kisscontainer-top {
background: url('maintop.gif') 0 0 no-repeat;
}

#kisscontainer-bottom {
background: url('mainbottom.gif') 0 0 no-repeat;
}

#kissheader {
background: #696969 url('header.gif') no-repeat 0 100%;
}

#kissheader div {
background: url('headerin.gif') repeat-y;
}

div.post {
background: url('line.gif') no-repeat 0 100%;
}

p.postmetadata {
background: url('iconmeta.gif') no-repeat;
}

p.prev-next {
background: url('dot.gif') 0 100% repeat-x;
}

#comments {
background: url('line.gif') no-repeat 0 100%;
}

#comments li {
background: url('dot.gif') 0 100% repeat-x;
}

div.side-sec {
background: url('dot.gif') 0 100% repeat-x;
}



div.side-sec li {
background: url('iconarrow.gif') no-repeat;
}

    .div1
{
    border:solid 0px red;
    *border:solid 0px blue;
    left: 402px; 
    *left:411px; 
    
    padding-top: 5px; 
    *padding-top: 4px; 
    padding-left: 2px;     
    height:14px; 
    width:200px;
    overflow:hidden;
    position:absolute;
    
}

/* End Theme Images */
</style>
<!-- --><style type="text/css">@import url(http://www.blogger.com/static/v1/v-css/navbar/697174003-classic.css);
div.b-mobile {display:none;}
</style>

</head>

    <body><script type="text/javascript">
    function setAttributeOnload(object, attribute, val) {
      if(window.addEventListener) {
        window.addEventListener("load",
          function(){ object[attribute] = val; }, false);
      } else {
        window.attachEvent('onload', function(){ object[attribute] = val; });
      }
    }
  </script>
<iframe src="http://www.blogger.com/navbar.g?targetBlogID=4193683792173214666&amp;blogName=Socket+Programming+in+C%23+.Net&amp;publishMode=PUBLISH_MODE_BLOGSPOT&amp;navbarType=BLUE&amp;layoutType=CLASSIC&amp;searchRoot=http%3A%2F%2Fsocketprogramming.blogspot.com%2Fsearch&amp;blogLocale=en_US&amp;homepageUrl=http%3A%2F%2Fsocketprogramming.blogspot.com%2F" marginwidth="0" marginheight="0" scrolling="no" frameborder="0" height="30px" width="100%" id="navbar-iframe" allowtransparency="true" title="Blogger Navigation and Search"></iframe>
<div></div>
    
<div style="width:100%;padding-top:25px;" align="left">

<div align="center" style="width:990px; border:solid 0px green;"><!--967-->

<div style="width:160px;float:left;padding-top:157px;border: solid 0px blue;" >

<script type="text/javascript">
google_ad_client = "pub-5848776899597517";
google_ad_host = "pub-1556223355139109";
google_ad_host_channel="00000+00031+00005+00311";
/* 160x600, created 3/13/09 */
google_ad_slot = "2664607139";
google_ad_width = 160;
google_ad_height = 600;

</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>


<!-- NEXT LEFT SIDE ADD -->





 </div>
 
<!--<div style="width:800px;float:left;">-->
<div id="kisswrap" style="border: solid 0px red;>
    <div id="kissheader">
        <div>
            <h1>
                <a href="http://socketprogramming.blogspot.com/" title="Socket Programming in C# .Net">Socket Programming in C# .Net</a></h1>
            <h2 class="description">
                Dot Net Programming in C# with source code and DLL file. Covers Socket, Remoting, Stored Procedure, ASP.Net, IO, Web Service, Windows Service, Installer, Console Programming, Win Forms, Web Forms, Ajax, Web publishing, Text Chat, Large File Transfer, File Handling etc.</h2>
        </div>
    </div>
    <div id="kisscontainer" ">
        <div id="kisscontainer-top" style="color: blue; font-family: Trebuchet MS; font-weight: bold;
            font-size: small; border: solid 0px yellow;">
            <div style="padding-top: 0px; padding-left: 40px;; float: left; color: blue;font-size: small;">
                <img src="http://kuchbate.com/img/icons/download-clear.PNG"/>Download source code from here
            </div>
            
            
            <div class="div1" style="padding-bottom:0px; padding-left: 30px;">
                <script type="text/javascript"><!--
                    google_ad_client = "pub-5848776899597517";
google_ad_host = "pub-1556223355139109";
google_ad_host_channel="00000+00031+00005+00311";
                    /* Ghost link */
                    google_ad_slot = "3442207012";
                    google_ad_width = 468;
                    google_ad_height = 60;
                    //-->
                    </script>
                    <script type="text/javascript"
                    src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
                    </script>
                </div>
            </div>
        
        
        <div id="kissmain" style="border: solid 0px red;" align="left">
            <div id="kissmain-1">
                
                <itempage>


<Blogger>
	
	<div class="post" id="Div1">

	<h2 class="post-title">Asynchronous Socket Server  Programming for  Beginner</h2>
			
	<div class="post-body">
		<p><div style="clear:both;"></div>It's a sample Server socket code that code based on MSDN sample code.<br /><br />That code works asynchronously for send/receive data between client and server. By that code any one can transfer data easily as when he want. Here some string data has been transferred. Before sending string data just it has been converted to byte array and then it has transferred client to server. Now I’m writing code to transfer string data between client and server, but within short time I will write how can transfer huge file data by asynchronous socket.<br />Now may some one think why we should use Asynchronous socket except synchronous socket? Because using asynchronous socket we can transfer data in different thread and data can transfer more smoothly. If any one try to send large data without any multi-threading model then he will see that when data is transferring then his program looks line ‘crashed’. However, lets describing some portion about that code.<br /><br />For use socket asynchronously Microsoft has provide very helpful technology in .Net. We just use some inbuilt function with ‘Begin-End’ scenario with three word ‘Accept, Send &amp; Receive’. This functions are:<br /><br />BeginAccept() - EndAccept()<br />BeginReceive() - EndReceive()<br />BeginSend() - EndSend()<br /><br />These functions when invoke then it create &amp; starts internal thread and starts working with a separate thread and continue working. So it don’t hamper main thread. Also inter-thread communication done by ‘ManualResetEvent’. ManualResetEvent object can handle it with it’s three functions :<br />Reset()<br />Set ()<br />WaitOne().<br /><br />Also here has used ‘StringBuilder’ for string operation in spite of simple ‘string’ class. Both class does same work, but ‘StringBuilder’ is very fast than ‘string’, but you can use ‘string’ also.<br /><br />However, the exact codes are as given below, at then end of that code I’m writing my personal some experience. Let’s see:<br /><br /><br /><ok><fail><ok><em>using System;<br />using System.Net;<br />using System.Net.Sockets;<br />using System.Text;<br />using System.Threading;<br /><br />// State object for reading client data asynchronously<br />public class StateObject<br />{<br />// Client socket.<br />public Socket workSocket = null;<br />// Size of receive buffer.<br />public const int BufferSize = 1024;<br />// Receive buffer.<br />public byte[] buffer = new byte[BufferSize];<br />// Received data string.<br />public StringBuilder sb = new StringBuilder();<br />}<br /><br />public class AsynchronousSocketListener<br />{<br />// Thread signal.<br />public static ManualResetEvent allDone = new ManualResetEvent(false);<br /><br />public AsynchronousSocketListener()<br />{<br />}<br /><br />public static void StartListening()<br />{<br />// Temp storage for incoming data.<br />byte[] recvDataBytes = new Byte[1024];<br /><br />// Make endpoint for the socket.<br />//IPAddress serverAdd = Dns.Resolve("localhost"); - That line was wrong </em><br /><em>//'baaelSiljan' has noticed it and then I've modified that line, correct line will be as:<br />IPHostEntry ipHost = Dns.Resolve("localhost");<br />IPAddress serverAdd = ipHost.AddressList[0];<br /><br />IPEndPoint ep = new IPEndPoint(serverAdd, 5656);<br /><br />// Create a TCP/IP socket for listner.<br />Socket listenerSock = new Socket(AddressFamily.InterNetwork,<br />SocketType.Stream, ProtocolType.Tcp);<br /><br />// Bind the socket to the endpoint and wait for listen for incoming connections.<br />try<br />{<br />listenerSock.Bind(ep);<br />listenerSock.Listen(10);<br /><br />while (true)<br />{<br />// Set the event to nonsignaled state.<br />allDone.Reset();<br /><br />// Start an asynchronous socket to listen for connections.<br />Console.WriteLine("Waiting for Client...");<br />listenerSock.BeginAccept(<br />new AsyncCallback(AcceptCallback),<br />listenerSock);<br /><br />// Wait until a connection is made before continuing.<br />allDone.WaitOne();<br />}<br /><br />}<br />catch (Exception e)<br />{<br />Console.WriteLine(e.ToString());<br />}<br /><br />Console.WriteLine("\nPress ENTER to continue...");<br />Console.Read();<br /><br />}<br /><br />public static void AcceptCallback(IAsyncResult ar)<br />{<br />// Signal the main thread to continue.<br />allDone.Set();<br /><br />// Get the socket that handles the client request.<br />Socket listener = (Socket)ar.AsyncState;<br />Socket handler = listener.EndAccept(ar);<br /><br />// Create the state object.<br />StateObject state = new StateObject();<br />state.workSocket = handler;<br />handler.BeginReceive(state.buffer, 0, StateObject.BufferSize, 0,<br />new AsyncCallback(ReadCallback), state);<br />}<br /><br />public static void ReadCallback(IAsyncResult ar)<br />{<br />String content = String.Empty;<br /><br />// Retrieve the state object and the handler socket<br />// from the asynchronous state object.<br />StateObject state = (StateObject)ar.AsyncState;<br />Socket handler = state.workSocket;<br /><br />// Read data from the client socket.<br />int bytesRead = handler.EndReceive(ar);<br /><br />if (bytesRead > 0)<br />{<br />// There might be more data, so store the data received so far.<br />state.sb.Append(Encoding.ASCII.GetString(<br />state.buffer, 0, bytesRead));<br /><br />// Check for end-of-file tag. If it is not there, read<br />// more data.<br />content = state.sb.ToString();<br />if (content.IndexOf("<eof>") > -1)<br />{<br />// All the data has been read from the<br />// client. Display it on the console.<br />Console.WriteLine("Read {0} bytes from socket. \n Data : {1}",<br />content.Length, content);<br />// Echo the data back to the client.<br />Send(handler, content);<br />}<br />else<br />{<br />// Not all data received. Get more.<br />handler.BeginReceive(state.buffer, 0, StateObject.BufferSize, 0,<br />new AsyncCallback(ReadCallback), state);<br />}<br />}<br />}<br /><br />private static void Send(Socket handler, String data)<br />{<br />// Convert the string data to byte data using ASCII encoding.<br />byte[] byteData = Encoding.ASCII.GetBytes(data);<br /><br />// Begin sending the data to the remote device.<br />handler.BeginSend(byteData, 0, byteData.Length, 0,<br />new AsyncCallback(SendCallback), handler);<br />}<br /><br />private static void SendCallback(IAsyncResult ar)<br />{<br />try<br />{<br />// Retrieve the socket from the state object.<br />Socket handler = (Socket)ar.AsyncState;<br /><br />// Complete sending the data to the remote device.<br />int bytesSent = handler.EndSend(ar);<br />Console.WriteLine("Sent {0} bytes to client.", bytesSent);<br /><br />handler.Shutdown(SocketShutdown.Both);<br />handler.Close();<br /><br />}<br />catch (Exception e)<br />{<br />Console.WriteLine(e.ToString());<br />}<br />}<br /><br /><br />public static int Main(String[] args)<br />{<br />StartListening();<br />return 0;<br />}<br />}<br /><br /></eof>How that code was?<br />Fine!<br /><br /></em>But always keep in mind here system is using default thread pool which by default handle maximum 25 thread, which may gives problem in large application, but for small application it’s fine. Also it’s using internal multi-threading technology which is comparatively slower than raw threading program. However let’s carry on.<br /><br /></ok></fail></ok><div style="clear:both; padding-bottom:0.25em"></div><p class="blogger-labels">Labels: <a rel='tag' href="http://socketprogramming.blogspot.com/search/label/Asynchronous">Asynchronous</a>, <a rel='tag' href="http://socketprogramming.blogspot.com/search/label/c%23">c#</a>, <a rel='tag' href="http://socketprogramming.blogspot.com/search/label/c%23%20socket">c# socket</a>, <a rel='tag' href="http://socketprogramming.blogspot.com/search/label/Client%20Socket">Client Socket</a>, <a rel='tag' href="http://socketprogramming.blogspot.com/search/label/server%20socket">server socket</a>, <a rel='tag' href="http://socketprogramming.blogspot.com/search/label/socket">socket</a>, <a rel='tag' href="http://socketprogramming.blogspot.com/search/label/socket%20application">socket application</a>, <a rel='tag' href="http://socketprogramming.blogspot.com/search/label/socket%20programming">socket programming</a></p></p>
		
		<p class="postmetadata">
			This entry was posted by Suman Biswas, on
			Tuesday, October 16, 2007.
			
			You can <a href="https://www.blogger.com/comment.g?blogID=4193683792173214666&postID=3013392495422254486" location.href=https://www.blogger.com/comment.g?blogID=4193683792173214666&postID=3013392495422254486;>leave your response</a>.
			
			<span class="item-action"><a href="http://www.blogger.com/email-post.g?blogID=4193683792173214666&postID=3013392495422254486" title="Email Post"><img class="icon-action" alt="" src="http://www.blogger.com:80/img/icon18_email.gif" height="13" width="18"/></a></span><span class="item-control blog-admin pid-1643588930"><a style="border:none;" href="http://www.blogger.com/post-edit.g?blogID=4193683792173214666&postID=3013392495422254486" title="Edit Post"><img class="icon-action" alt="" src="http://www.blogger.com:80/img/icon18_edit_allbkg.gif" height="18" width="18"></a></span></p>
	</div>
</div>		



<div id="comments">
<h2>
<script type="text/javascript">
    var a = 12; if(a == 0) {document.write('no comment');} else if(a == 1) {document.write('1 comment');}else{document.write(a+' comments');}
    </script>
</h2>

<ol>
	


	<li id="comment-5994357609119756873">
		<span><span style="line-height:16px" class="comment-icon blogger-comment-icon"><img src="http://www.blogger.com/img/b16-rounded.gif" alt="Blogger" style="display:inline;" /></span>&nbsp;<a href="http://www.blogger.com/profile/08770222295658905807" rel="nofollow">baaelSiljan</a> | <a href="#comment-5994357609119756873" title="">October 17, 2007 12:32 AM</a> | <span class="item-control blog-admin pid-1111572325"><a style="border:none;" href="http://www.blogger.com/delete-comment.g?blogID=4193683792173214666&postID=5994357609119756873" title="Delete Comment" ><span class="delete-comment-icon">&nbsp;</span></a></span></span>
		<p>i have to use :<BR/><BR/>  IPAddress serverAdd = IPAddress.Parse("127.0.0.1");<BR/><BR/>instead of:<BR/><BR/>IPAddress serverAdd = Dns.Resolve("localhost");<BR/><BR/>I dont know why Dns.Resolve don't want to work.<BR/><BR/>good articles, cheers</p>
	</li>



	<li id="comment-6751665245665105914">
		<span><span style="line-height:16px" class="comment-icon blogger-comment-icon"><img src="http://www.blogger.com/img/b16-rounded.gif" alt="Blogger" style="display:inline;" /></span>&nbsp;<a href="http://www.blogger.com/profile/14689783166617654485" rel="nofollow">Suman Biswas</a> | <a href="#comment-6751665245665105914" title="">October 28, 2007 10:59 PM</a> | <span class="item-control blog-admin pid-1643588930"><a style="border:none;" href="http://www.blogger.com/delete-comment.g?blogID=4193683792173214666&postID=6751665245665105914" title="Delete Comment" ><span class="delete-comment-icon">&nbsp;</span></a></span></span>
		<p>Thank you for your comment, and I'm sorry for late reply.<BR/>Some how I've mistake when codes are copied & paste. The actual code will be:<BR/>IPHostEntry ipHost = Dns.Resolve("localhost");<BR/>IPAddress serverAdd = ipHost.AddressList[0];<BR/><BR/>These two line insted of that line:<BR/>//IPAddress serverAdd = IPAddress.Parse("127.0.0.1");<BR/>Thanks for correct me.<BR/><BR/>You can use any option, above two line or next line.</p>
	</li>



	<li id="comment-4751669640703960721">
		<span><span style="line-height:16px" class="comment-icon blogger-comment-icon"><img src="http://www.blogger.com/img/b16-rounded.gif" alt="Blogger" style="display:inline;" /></span>&nbsp;<a href="http://www.blogger.com/profile/09161271235752159408" rel="nofollow">Артур</a> | <a href="#comment-4751669640703960721" title="">April 17, 2008 1:30 PM</a> | <span class="item-control blog-admin pid-606928365"><a style="border:none;" href="http://www.blogger.com/delete-comment.g?blogID=4193683792173214666&postID=4751669640703960721" title="Delete Comment" ><span class="delete-comment-icon">&nbsp;</span></a></span></span>
		<p>Hi, I'd like to ask for your expert advice according to xf.server component.<BR/><BR/>Did you try it? It seems to be a good solution for high performance servers in .NET</p>
	</li>



	<li id="comment-3542993469181610396">
		<span><span style="line-height:16px" class="comment-icon blogger-comment-icon"><img src="http://www.blogger.com/img/b16-rounded.gif" alt="Blogger" style="display:inline;" /></span>&nbsp;<a href="http://www.blogger.com/profile/14689783166617654485" rel="nofollow">Suman Biswas</a> | <a href="#comment-3542993469181610396" title="">April 19, 2008 5:12 AM</a> | <span class="item-control blog-admin pid-1643588930"><a style="border:none;" href="http://www.blogger.com/delete-comment.g?blogID=4193683792173214666&postID=3542993469181610396" title="Delete Comment" ><span class="delete-comment-icon">&nbsp;</span></a></span></span>
		<p>Hi Артур,<BR/>   I don't know about XF.Server - it's use and performance and for which purpose it works. Never I've tried it. So for me not possible to comment about it.<BR/>Thanks,<BR/>Suman Biswas</p>
	</li>



	<li id="comment-6947902692031346421">
		<span><span style="line-height:16px" class="comment-icon blogger-comment-icon"><img src="http://www.blogger.com/img/b16-rounded.gif" alt="Blogger" style="display:inline;" /></span>&nbsp;<a href="http://www.blogger.com/profile/03621500846384699103" rel="nofollow">bijju</a> | <a href="#comment-6947902692031346421" title="">May 14, 2008 11:10 PM</a> | <span class="item-control blog-admin pid-1528545624"><a style="border:none;" href="http://www.blogger.com/delete-comment.g?blogID=4193683792173214666&postID=6947902692031346421" title="Delete Comment" ><span class="delete-comment-icon">&nbsp;</span></a></span></span>
		<p>I want to Connect multiple clients to <BR/>the server.<BR/>For that I have to lock the Receiving buffer when one client's data is coming or there is another way.<BR/>Thanks in advance.</p>
	</li>



	<li id="comment-7567298964528843241">
		<span><span style="line-height:16px" class="comment-icon blogger-comment-icon"><img src="http://www.blogger.com/img/b16-rounded.gif" alt="Blogger" style="display:inline;" /></span>&nbsp;<a href="http://www.blogger.com/profile/00350206806802886835" rel="nofollow">newbie</a> | <a href="#comment-7567298964528843241" title="">September 29, 2008 1:12 AM</a> | <span class="item-control blog-admin pid-1600866484"><a style="border:none;" href="http://www.blogger.com/delete-comment.g?blogID=4193683792173214666&postID=7567298964528843241" title="Delete Comment" ><span class="delete-comment-icon">&nbsp;</span></a></span></span>
		<p>Very nice and interesting! I&#39;m pretty new in C# and i need to know how to make the code with socket, that sending data to some server, the response could be written in Richtextbox. For example, i&#39;m using this asynksocket: <BR/><BR/>http://www.planet-source-code.com/vb/scripts/ShowCode.asp?txtCodeId=5331&amp;lngWId=10<BR/><BR/>I know how to connect it, but i don&#39;t understand how to receive data and put the arrival data in a richtexbox. The code is here:<BR/><BR/>    public partial class Form1 : Form<BR/>    {<BR/>        public Form1()<BR/>        {<BR/>            InitializeComponent();<BR/>        }<BR/>        string datarrival;<BR/>AsyncSocket socket = new AsyncSocket();<BR/>        private void Form1_Load(object sender, EventArgs e)<BR/>        {<BR/>            <BR/>            socket.OnConnect += new AsyncSocket.OnConnectEvent(socket_OnConnect);<BR/>            socket.OnReceive += new AsyncSocket.OnReceiveEvent(socket_OnReceive);<BR/>            socket.OnDisconnect += new AsyncSocket.OnDisconnectEvent(socket_OnDisconnect);<BR/><BR/>            <BR/>        }<BR/><BR/>        void socket_OnDisconnect(AsyncSocket sender)<BR/>        {<BR/>            //throw new Exception(&quot;The method or operation is not implemented.&quot;);<BR/>        }<BR/><BR/>        void socket_OnReceive(byte[] Data)<BR/>        {<BR/>            datarrival += Encoding.Default.GetString(Data);<BR/>            //throw new Exception(&quot;The method or operation is not implemented.&quot;);<BR/>        }<BR/><BR/>        void socket_OnConnect(AsyncSocket sender)<BR/>        {<BR/>            string abc = &quot;&amp;name=&quot; + textBox1.Text + &quot;&amp;insMessage=&quot; + textBox2.Text + &quot;&amp;submit=Enviar&quot;;<BR/>            string request = &quot;POST /betatester/winsocktest/insMessage.php?action=insMessage HTTP/1.1\r\nAccept: image/gif, image/x-xbitmap, image/jpeg, image/pjpeg, application/x-shockwave-flash, */*\r\nhttp://members.lycos.co.uk/betatester/winsocktest/insMessage.php\r\nAccept-Language: es-us\r\nContent-Type: application/x-www-form-urlencoded\r\nAccept-Encoding: gzip, deflate\r\nUser-Agent: Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; .NET CLR 2.0.50727; .NET CLR 1.1.4322)\r\nHost: &quot; + &quot;members.lycos.co.uk&quot; + &quot;\r\nContent-Length: &quot; + abc.Length + &quot;\r\nConnection: Keep-Alive\r\n\r\n&quot; + abc + &quot;\r\n\r\n&quot;;<BR/><BR/>;<BR/>            socket.Send(request);<BR/>            //throw new Exception(&quot;The method or operation is not implemented.&quot;);<BR/>        }<BR/>    }<BR/>}<BR/><BR/>Could you help me and tell me how i can put the data that arrives from the server as a respone put in the textbox or richtextbox?</p>
	</li>



	<li id="comment-4871348344465722718">
		<span><span style="line-height:16px" class="comment-icon blogger-comment-icon"><img src="http://www.blogger.com/img/b16-rounded.gif" alt="Blogger" style="display:inline;" /></span>&nbsp;<a href="http://www.blogger.com/profile/00520915445246233239" rel="nofollow">Dimon</a> | <a href="#comment-4871348344465722718" title="">May 20, 2009 6:15 AM</a> | <span class="item-control blog-admin "><a style="border:none;" href="http://www.blogger.com/delete-comment.g?blogID=4193683792173214666&postID=4871348344465722718" title="Delete Comment" ><span class="delete-comment-icon">&nbsp;</span></a></span></span>
		<p><span class="deleted-comment">This post has been removed by the author.</span></p>
	</li>



	<li id="comment-6103410842977619344">
		<span><span style="line-height:16px" class="comment-icon blogger-comment-icon"><img src="http://www.blogger.com/img/b16-rounded.gif" alt="Blogger" style="display:inline;" /></span>&nbsp;<a href="http://www.blogger.com/profile/00520915445246233239" rel="nofollow">Dimon</a> | <a href="#comment-6103410842977619344" title="">May 20, 2009 6:16 AM</a> | <span class="item-control blog-admin pid-1660489986"><a style="border:none;" href="http://www.blogger.com/delete-comment.g?blogID=4193683792173214666&postID=6103410842977619344" title="Delete Comment" ><span class="delete-comment-icon">&nbsp;</span></a></span></span>
		<p>Hello.<br />Thank you the article.<br />I'm interested why hash code for the socket in client and server are the same in spite of different processes?<br />And the second question:<br /><br />Data about server connection from tcpview by Russinovich:<br /><br />server: 127.0.0.1:5656 Remote address: 0.0.0.0:0 state: Listening<br /><br />server: 127.0.0.1:3450 Remote address: *.* state: not available<br /><br />what is second state about?</p>
	</li>



	<li id="comment-8884647492614059728">
		<span><span style="line-height:16px" class="comment-icon blogger-comment-icon"><img src="http://www.blogger.com/img/b16-rounded.gif" alt="Blogger" style="display:inline;" /></span>&nbsp;<a href="http://www.blogger.com/profile/14689783166617654485" rel="nofollow">Suman Biswas</a> | <a href="#comment-8884647492614059728" title="">May 20, 2009 8:37 AM</a> | <span class="item-control blog-admin pid-1643588930"><a style="border:none;" href="http://www.blogger.com/delete-comment.g?blogID=4193683792173214666&postID=8884647492614059728" title="Delete Comment" ><span class="delete-comment-icon">&nbsp;</span></a></span></span>
		<p>Hi Dimon,<br />For 1st: Not clear your question<br />2nd: May be Listing.<br /><br />Plz express your question more clearly.<br /><br />-Suman</p>
	</li>



	<li id="comment-1224998362190482920">
		<span><span style="line-height:16px" class="comment-icon blogger-comment-icon"><img src="http://www.blogger.com/img/b16-rounded.gif" alt="Blogger" style="display:inline;" /></span>&nbsp;<a href="http://www.blogger.com/profile/10337290791059423921" rel="nofollow">anasanjaria</a> | <a href="#comment-1224998362190482920" title="">June 18, 2009 4:17 AM</a> | <span class="item-control blog-admin pid-1619504897"><a style="border:none;" href="http://www.blogger.com/delete-comment.g?blogID=4193683792173214666&postID=1224998362190482920" title="Delete Comment" ><span class="delete-comment-icon">&nbsp;</span></a></span></span>
		<p>hello Suman ,<br />    <br />         why have u created state obj ? i actually wont able to undrstd its purpose ...<br /><br />regards,<br />Anas</p>
	</li>



	<li id="comment-8726548979299224877">
		<span><span style="line-height:16px" class="comment-icon openid-comment-icon"><img src="http://www.blogger.com/img/openid16-rounded.gif" alt="OpenID" style="display:inline;" /></span>&nbsp;<a href="http://openid.aol.com/stormbringer281" rel="nofollow">stormbringer281</a> | <a href="#comment-8726548979299224877" title="">November 17, 2009 4:18 AM</a> | <span class="item-control blog-admin pid-842469154"><a style="border:none;" href="http://www.blogger.com/delete-comment.g?blogID=4193683792173214666&postID=8726548979299224877" title="Delete Comment" ><span class="delete-comment-icon">&nbsp;</span></a></span></span>
		<p>Hello Suman,<br /><br />Thank you. The article is very interesting.One question: I&#39;m writing a server application which should serve a big number or clients(for example 500). Can it be a problem using default thread pool? The server application will be working on windows 2003 machine, is there a difference between windowsXP/Vista and windows 2003 default thread pools? Queueing client&#39;s requests isn&#39;t a problem, just requests shouldn&#39;t disappear.<br /><br />Thanks in advance</p>
	</li>



	<li id="comment-7551971756527362485">
		<span><span style="line-height:16px" class="comment-icon blogger-comment-icon"><img src="http://www.blogger.com/img/b16-rounded.gif" alt="Blogger" style="display:inline;" /></span>&nbsp;<a href="http://www.blogger.com/profile/14689783166617654485" rel="nofollow">Suman Biswas</a> | <a href="#comment-7551971756527362485" title="">November 17, 2009 4:26 AM</a> | <span class="item-control blog-admin pid-1643588930"><a style="border:none;" href="http://www.blogger.com/delete-comment.g?blogID=4193683792173214666&postID=7551971756527362485" title="Delete Comment" ><span class="delete-comment-icon">&nbsp;</span></a></span></span>
		<p>Hi,<br />For default thread pool I think no difference, because it is .Net framework level features. Thread pool is 25 so far I know.<br /><br />For 500 user seems I think it will not problem. But it depends on application type - client activity dependent. <br /><br />In past I have seen two application one was getting problem when the client reaches around 3800-4100 user. And another person getting problem when his user reaches around 10,000-12,000 users.<br /><br />My advice go to raw thread application (if there has any chances to increases user from 500) then it can handle much user. As my experience with raw thread have not got any problem with more than 1,00,000 users. But default thread pool will give you simple programming.<br /><br /><br />Suman</p>
	</li>



</ol>
<p style="text-align: center;"><a href="https://www.blogger.com/comment.g?blogID=4193683792173214666&postID=3013392495422254486" location.href=https://www.blogger.com/comment.g?blogID=4193683792173214666&postID=3013392495422254486;>leave a response</a></p>
</div>	





</itempage>
            </div>
        </div>
        <div id="sidebar" style="border-left-color: Gray; border-left-style: solid; border-left-width: thin; " align="left">
            <div class="side-sec search">
                <strong>Total Views:
                    <!-- Start of StatCounter Code -->

                    <script type="text/javascript">
                            var sc_project=3094310; 
                            var sc_invisible=0; 
                            var sc_partition=27; 
                            var sc_security="331d8ed2"; 
                            var sc_text=2; 
                    </script>

                    <script type="text/javascript" src="http://www.statcounter.com/counter/counter_xhtml.js"></script>

                    <noscript>
                        <div class="statcounter">
                            <a href="http://www.statcounter.com/" target="_blank">
                                <img class="statcounter" src="http://c28.statcounter.com/3094310/0/331d8ed2/0/" alt="web metrics"></a></div>
                    </noscript>
                </strong>
            </div>
            <!-- End of StatCounter Code -->
            <div class="side-sec search">
                <!-- Google Add SIDE -->

                <script type="text/javascript">
google_ad_client = "pub-5848776899597517";
google_ad_host = "pub-1556223355139109";
google_ad_host_channel="00000+00031+00005+00311";
/* 200x200, created 3/5/09 */
google_ad_slot = "7569493878";
google_ad_width = 200;
google_ad_height = 200;

</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>	
                <!-- Google Add SIDE -->
</div>
  <!-- Google Search SIDE Start -->
<div class="side-sec search" style="width: 206px;">
<h3>
   Search within Blog
</h3>

<div id="cse" style="width: 100%;top-padding:-5px;">Loading</div>
<script src="http://www.google.com/jsapi" type="text/javascript"></script>
<script type="text/javascript">
  google.load('search', '1', {language : 'en'});
  google.setOnLoadCallback(function(){
    var customSearchControl = new google.search.CustomSearchControl('002735165098527430856:v6g5szkrquw');
    customSearchControl.setResultSetSize(google.search.Search.FILTERED_CSE_RESULTSET);
    customSearchControl.draw('cse');
  }, true);
</script>
<link rel="stylesheet" href="http://www.google.com/cse/style/look/default.css" type="text/css" />

<div>

</div> 
           <div class="side-sec posts">
                <h3>
                    recent posts</h3>
                <ul>
                    
  			<li><strong>&rArr;</strong> <a href="http://socketprogramming.blogspot.com/2007/09/abcd.html">Client Socket  Programming using C#.Net for Beginn...</a></li>
  		
  			<li><strong>&rArr;</strong> <a href="http://socketprogramming.blogspot.com/2007/09/socket-for-beginner.html">Server Socket  Programming for beginner using C#.N...</a></li>
  		
                </ul>
            </div>
            <!---->
            
            <div class="side-sec archives">
                <h3>
                    Archives</h3>
                <ul>
                    
				<li><a href="http://socketprogramming.blogspot.com/2007_09_01_archive.html">September 2007</a></li>
			
				<li><a href="http://socketprogramming.blogspot.com/2007_10_01_archive.html">October 2007</a></li>
			
				<li><a href="http://socketprogramming.blogspot.com/2007_11_01_archive.html">November 2007</a></li>
			
				<li><a href="http://socketprogramming.blogspot.com/2008_02_01_archive.html">February 2008</a></li>
			
				<li><a href="http://socketprogramming.blogspot.com/2008_04_01_archive.html">April 2008</a></li>
			
				<li><a href="http://socketprogramming.blogspot.com/2008_11_01_archive.html">November 2008</a></li>
			
				<li><a href="http://socketprogramming.blogspot.com/2009_02_01_archive.html">February 2009</a></li>
			
				<li><a href="http://socketprogramming.blogspot.com/2009_08_01_archive.html">August 2009</a></li>
			
				<li><a href="http://socketprogramming.blogspot.com/2009_10_01_archive.html">October 2009</a></li>
			
				<li><a href="http://socketprogramming.blogspot.com/2010_01_01_archive.html">January 2010</a></li>
			
                </ul>
            </div>
            <div class="side-sec links">
                <h3>
                    Links</h3>
                <!-- 
		
		Links below are just examples, feel free to delete them and replace with your own
		
		-->
                <ul>
                    <li><a href="http://appliedvisualstudio.blogspot.com">Microsoft Visual Studio.Net Programming</a></li>
                    <li><a href="http://wildnaturephotograph.blogspot.com">See wild beauty of our planet</a></li>


                </ul>
            </div>
            <div class="side-sec subscribe">
                <h3>
                    Subscribe</h3>
                <ul>
                    <li><a title="Atom 0.3" href="http://socketprogramming.blogspot.com//atom.xml">Site Feed</a></li>
                </ul>
            </div>
            
            <!--SIDE BAR ADD HERE -->
            <div class="side-sec misc">
                

                    

            </div>
            
        </div>
        <!--END SIDE BAR ADD HERE -->
    </div>
    <div id="kisscontainer-bottom">
        <!-- BOTTOM POSITION -->
	<!--<div id='vu_ytplayer_vjVQa1PpcFMGsIHw9gEDWjMYq62rh-wQp2M19zeBXV8='><a href='http://www.youtube.com/browse'>Watch the latest videos on YouTube.com</a></div><script type='text/javascript' src='http://www.youtube.com/watch_custom_player?id=vjVQa1PpcFMGsIHw9gEDWjMYq62rh-wQp2M19zeBXV8='></script> -->       

        <!-- ALL BLOG DIR LINK -->
        
        <!--Blog Catelogue Code -->
    
        
        <div style="width:100%; font-size: small;">
        <li><a  href="http://socketprogramming.blogspot.com/2009/10/user-to-user-file-transfer-using-c-net.html" target="_blank">User to user file transfer using c#.Net  Programming Remoting Technology</a></li>
        <li><a  href="http://socketprogramming.blogspot.com/2009/08/global-text-chat-room-application-using.html" target="_blank">Global Text Chat Room Application Using C#.NET  Programming - Remoting Technology </a></li>
        <li><a  href="http://socketprogramming.blogspot.com/2009/02/transfer-large-file-2gb-using-socket-in.html" target="_blank">2GB file transfer using C# socket  Programming</a></li>
        <li><a  href="http://socketprogramming.blogspot.com/2008/11/split-and-assemble-large-file-around.html" target="_blank">Split and Assemble large file (2GB) using c#.Net  Programming</a></li>
        <li><a  href="http://socketprogramming.blogspot.com/2008/04/run-any-stored-procedure-from-net.html" target="_blank">Run any stored procedure from using c#.Net  Programming</a></li>
        <li><a  href="http://socketprogramming.blogspot.com/2008/02/run-any-stored-procedure-from-net.html" target="_blank">Run any stored procedure from Programming</a></li>
        <li><a  href="http://socketprogramming.blogspot.com/2007/11/file-transfer-using-c-socket.html" target="_blank">File transfer using C# socket  Programming</a></li>
        <li><a  href="http://socketprogramming.blogspot.com/2007/11/synchronous-server-socket-using-network_07.html" target="_blank">Synchronous server socket  Programming using Network Stream</a></li>
        <li><a  href="http://socketprogramming.blogspot.com/2007/10/asynchronous-socket-client-for-beginner.html" target="_blank">Asynchronous socket client  Programming for beginner</a></li>
        <li><a  href="http://socketprogramming.blogspot.com/2007/10/asynchronous-socket-for-beginner.html" target="_blank">Asynchronous Server socket  Programming for beginner</a></li>
        <li><a  href="http://socketprogramming.blogspot.com/2007/09/abcd.html" target="_blank">Client Socket  Programming for Beginner</a></li>
        <li><a  href="http://socketprogramming.blogspot.com/2007/09/socket-for-beginner.html" target="_blank">Server Socket  Programming for beginner</a></li>
        <li><a  href="http://socketprogramming.blogspot.com" target="_blank">Goto Home page</a></li>
           
    </div>
    
        <a href="http://www.blogcatalog.com/directory" title="Programming Blogs - Blog Catalog Blog Directory"  rel="nofollow">
            <img src="http://www.blogcatalog.com/images/buttons/blogcatalog5.gif" alt="Programming Blogs - Blog Catalog Blog Directory"
                style="border: 0;"  rel="nofollow" /></a>


        <!--Blog Catelogue Code END -->  
<a href="http://www.addyoururl.org">Add Your URL Directory</a>
<a href="http://freewebsubmission.com"><b>FreeWebSubmission.com</b></a>        

<!-- GOOGLE Analytics -->
        <script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
            </script>
            <script type="text/javascript">
            _uacct = "UA-4464138-1";
            urchinTracker();
            </script>
<!-- End GOOGLE Analytics -->

        <!-- END OF BOTTOM POSITION -->
    </div>
</div>
</div>
<!--</div>-->
</div>
<!--</div>-->
</Blogger>
</body>
</html>