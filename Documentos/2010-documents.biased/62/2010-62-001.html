<HTML><HEAD><title> use TcpClient to connect to a server : TcpClient&nbsp;&laquo;&nbsp;Network&nbsp;&laquo;&nbsp;C# / CSharp Tutorial </title><meta http-equiv="content-type" content="text/html; charset=UTF-8"><meta http-equiv="content-style-type" content="text/css"/><meta name="author" content="Demo Source and Support Ltd."/><meta name="copyright" content="2006 Demo Source and Support Ltd."/><meta name="description" CONTENT=" use TcpClient to connect to a server : TcpClient&nbsp;&laquo;&nbsp;Network&nbsp;&laquo;&nbsp;C# / CSharp Tutorial "/><meta name="keywords" CONTENT=" use TcpClient to connect to a server : TcpClient&nbsp;&laquo;&nbsp;Network&nbsp;&laquo;&nbsp;C# / CSharp Tutorial "/><LINK href="http://www.java2s.com/style/java2s.css" type=text/css rel=stylesheet><link rel="shortcut icon" href="http://www.java2s.com/style/favicon.ico"></HEAD>
<body><H1>use TcpClient to connect to a server : TcpClient&nbsp;&laquo;&nbsp;Network&nbsp;&laquo;&nbsp;C# / CSharp Tutorial</H1><table width=1024 border=0><tr align=left><td width=140 valign=top align=left >
<table cellpadding=0 cellspacing=0 class=leftBarTable><tr><td class=leftLangCell><A href="http://www.java2s.com">Home</A></td></tr>

<tr><td><A href="/Tutorial/CSharp/CatalogCSharp.htm">C# / CSharp Tutorial</a></td></tr>

<tr><td><table class=leftBarFolderTable><tr><td valign=top>1.</td><td><A href="/Tutorial/CSharp/0020__Language-Basics/Catalog0020__Language-Basics.htm">Language Basics</a></td></tr>
<tr><td valign=top>2.</td><td><A href="/Tutorial/CSharp/0040__Data-Type/Catalog0040__Data-Type.htm">Data Type</a></td></tr>
<tr><td valign=top>3.</td><td><A href="/Tutorial/CSharp/0060__Operator/Catalog0060__Operator.htm">Operator</a></td></tr>
<tr><td valign=top>4.</td><td><A href="/Tutorial/CSharp/0080__Statement/Catalog0080__Statement.htm">Statement</a></td></tr>
<tr><td valign=top>5.</td><td><A href="/Tutorial/CSharp/0100__String/Catalog0100__String.htm">String</a></td></tr>
<tr><td valign=top>6.</td><td><A href="/Tutorial/CSharp/0120__struct/Catalog0120__struct.htm">struct</a></td></tr>
<tr><td valign=top>7.</td><td><A href="/Tutorial/CSharp/0140__Class/Catalog0140__Class.htm">Class</a></td></tr>
<tr><td valign=top>8.</td><td><A href="/Tutorial/CSharp/0160__Operator-Overload/Catalog0160__Operator-Overload.htm">Operator Overload</a></td></tr>
<tr><td valign=top>9.</td><td><A href="/Tutorial/CSharp/0180__delegate/Catalog0180__delegate.htm">delegate</a></td></tr>
<tr><td valign=top>10.</td><td><A href="/Tutorial/CSharp/0200__Attribute/Catalog0200__Attribute.htm">Attribute</a></td></tr>
<tr><td valign=top>11.</td><td><A href="/Tutorial/CSharp/0220__Data-Structure/Catalog0220__Data-Structure.htm">Data Structure</a></td></tr>
<tr><td valign=top>12.</td><td><A href="/Tutorial/CSharp/0240__Assembly/Catalog0240__Assembly.htm">Assembly</a></td></tr>
<tr><td valign=top>13.</td><td><A href="/Tutorial/CSharp/0260__Date-Time/Catalog0260__Date-Time.htm">Date Time</a></td></tr>
<tr><td valign=top>14.</td><td><A href="/Tutorial/CSharp/0280__Development/Catalog0280__Development.htm">Development</a></td></tr>
<tr><td valign=top>15.</td><td><A href="/Tutorial/CSharp/0300__File-Directory-Stream/Catalog0300__File-Directory-Stream.htm">File Directory Stream</a></td></tr>
<tr><td valign=top>16.</td><td><A href="/Tutorial/CSharp/0340__Preprocessing-Directives/Catalog0340__Preprocessing-Directives.htm">Preprocessing Directives</a></td></tr>
<tr><td valign=top>17.</td><td><A href="/Tutorial/CSharp/0360__Regular-Expression/Catalog0360__Regular-Expression.htm">Regular Expression</a></td></tr>
<tr><td valign=top>18.</td><td><A href="/Tutorial/CSharp/0380__Generic/Catalog0380__Generic.htm">Generic</a></td></tr>
<tr><td valign=top>19.</td><td><A href="/Tutorial/CSharp/0400__Reflection/Catalog0400__Reflection.htm">Reflection</a></td></tr>
<tr><td valign=top>20.</td><td><A href="/Tutorial/CSharp/0420__Thread/Catalog0420__Thread.htm">Thread</a></td></tr>
<tr><td valign=top>21.</td><td><A href="/Tutorial/CSharp/0440__I18N-Internationalization/Catalog0440__I18N-Internationalization.htm">I18N Internationalization</a></td></tr>
<tr><td valign=top>22.</td><td class=leftNewFolderCell><A href="/Tutorial/CSharp/0450__LINQ/Catalog0450__LINQ.htm">LINQ</a></td></tr>
<tr><td valign=top>23.</td><td><A href="/Tutorial/CSharp/0460__GUI-Windows-Forms/Catalog0460__GUI-Windows-Forms.htm">GUI Windows Forms</a></td></tr>
<tr><td valign=top>24.</td><td><A href="/Tutorial/CSharp/0480__2D/Catalog0480__2D.htm">2D</a></td></tr>
<tr><td valign=top>25.</td><td><A href="/Tutorial/CSharp/0500__Design-Patterns/Catalog0500__Design-Patterns.htm">Design Patterns</a></td></tr>
<tr><td valign=top>26.</td><td><A href="/Tutorial/CSharp/0520__Windows/Catalog0520__Windows.htm">Windows</a></td></tr>
<tr><td valign=top>27.</td><td><A href="/Tutorial/CSharp/0540__XML/Catalog0540__XML.htm">XML</a></td></tr>
<tr><td valign=top>28.</td><td class=leftNewFolderCell><A href="/Tutorial/CSharp/0541__XML-LINQ/Catalog0541__XML-LINQ.htm">XML LINQ</a></td></tr>
<tr><td valign=top>29.</td><td><A href="/Tutorial/CSharp/0560__ADO.Net/Catalog0560__ADO.Net.htm">ADO.Net</a></td></tr>
<tr><td valign=top>30.</td><td><B>Network</B></td></tr>
<tr><td valign=top>31.</td><td><A href="/Tutorial/CSharp/0581__Directory-Services/Catalog0581__Directory-Services.htm">Directory Services</a></td></tr>
<tr><td valign=top>32.</td><td><A href="/Tutorial/CSharp/0600__Security/Catalog0600__Security.htm">Security</a></td></tr>
<tr><td valign=top>33.</td><td><A href="/Tutorial/CSharp/0620__unsafe/Catalog0620__unsafe.htm">unsafe</a></td></tr>
</table></td></tr><tr><td class=leftLangCell><A href="/Code/CSharp/CatalogCSharp.htm">C# / C Sharp</a></td></tr>
<tr><td class=leftNewLangCell><A href="/Code/CSharpAPI/CatalogCSharpAPI.htm">C# / C Sharp by API</a></td></tr>
<tr><td class=leftLangCell><A href="/Open-Source/CSharp/CatalogCSharp.htm">C# / CSharp Open Source</a></td></tr>
</table></td><td width=2px></td><td valign=top><script language="javascript" src="http://media.fastclick.net/w/get.media?sid=24280&m=1&tp=5&d=j&t=n"></script><noscript><a href="http://media.fastclick.net/w/click.here?sid=24280&m=1&c=1" target="_blank"><img src="http://media.fastclick.net/w/get.media?sid=24280&m=1&tp=5&d=s&c=1"width=728 height=90 border=1></a></noscript><TABLE border=0><TR><TD height=3></TD></TR></TABLE>
<TABLE class=googleBar width=800 cellSpacing=0 cellPadding=0 border=0><TBODY><TR><TD width=60%><A href="/Tutorial/CSharp/CatalogCSharp.htm">C# / CSharp Tutorial</a>&nbsp;&raquo;&nbsp;<A href="/Tutorial/CSharp/0580__Network/Catalog0580__Network.htm">Network</a>&nbsp;&raquo;&nbsp;<A href="/Tutorial/CSharp/0580__Network/0140__TcpClient.htm">TcpClient</a></TD><TD align=right width=10%>&nbsp;</TD><TD align=right height=80% width=30%><form action="http://www.google.com/cse" id="cse-search-box"><div><input type="hidden" name="cx" value="partner-pub-1130008796007602:iri8be-v211" /><input type="hidden" name="ie" value="ISO-8859-1" /><input type="text" name="q" size="15" /><input type="submit" name="sa" value="Search" /></div></form><script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&amp;lang=en"></script></TD></FORM> </TD></TR></TBODY></TABLE><TABLE border=0><TR><TD height=3></TD></TR></TABLE>
<TABLE width="650"  border=0 cellSpacing=0 cellPadding=0 border=0><TBODY>
<TR><TD align=left><script type="text/javascript"><!--
google_ad_client="pub-1130008796007602";google_ad_width=300;google_ad_height=250;google_ad_format="300x250_as";google_ad_type="text_image";google_ad_channel="";google_color_border="ffffff";google_color_bg="FFFFFF";google_color_link="003399";google_color_url="75a3ed";google_color_text="000000";
//--></script><script type="text/javascript"src="http://pagead2.googlesyndication.com/pagead/show_ads.js"></script></TD>
<td align=right><script type="text/javascript"><!--
google_ad_client="pub-1130008796007602";google_ad_width=300;google_ad_height=250;google_ad_format="300x250_as";google_ad_type="text_image";google_ad_channel="";google_color_border="ffffff";google_color_bg="FFFFFF";google_color_link="003399";google_color_url="75a3ed";google_color_text="000000";
//--></script><script type="text/javascript"src="http://pagead2.googlesyndication.com/pagead/show_ads.js"></script></td></TR></TBODY>
</TABLE><table width=800 border=0><tr><td class=codeTitle>30.7.4.use TcpClient to connect to a server</td></tr>
<tr><td><TABLE border=0><TR><TD height=20></TD></TR></TABLE>
</td></tr>
<tr><td><table border="0" cellpadding="3" cellspacing="0" bgcolor="#ffffff">
   <tr>
<td nowrap="nowrap" valign="top" align="left"><div class="codeShade"><code><font color="#7f0055"><b>using&nbsp;</b></font><font color="#000000">System;</font><br/>
<font color="#7f0055"><b>using&nbsp;</b></font><font color="#000000">System.IO;</font><br/>
<font color="#7f0055"><b>using&nbsp;</b></font><font color="#000000">System.Net;</font><br/>
<font color="#7f0055"><b>using&nbsp;</b></font><font color="#000000">System.Net.Sockets;</font><br/>
<font color="#ffffff"></font><br/>
<font color="#7f0055"><b>class&nbsp;</b></font><font color="#000000">MainClass</font><br/>
<font color="#000000">{</font><br/>
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>public&nbsp;static&nbsp;</b></font><font color="#7f0055"><b>void&nbsp;</b></font><font color="#000000">Main</font><font color="#000000">()&nbsp;</font><br/>
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">{</font><br/>
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">TcpClient&nbsp;client&nbsp;=&nbsp;</font><font color="#7f0055"><b>new&nbsp;</b></font><font color="#000000">TcpClient</font><font color="#000000">()</font><font color="#000000">;</font><br/>
<font color="#ffffff"></font><br/>
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>try</b></font><br/>
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">{</font><br/>
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">Console.WriteLine</font><font color="#000000">(</font><font color="#2a00ff">&#34;Attempting&nbsp;to&nbsp;connect&nbsp;to&nbsp;the&nbsp;server&nbsp;&#34;</font><font color="#000000">,</font><font color="#2a00ff">&#34;on&nbsp;port&nbsp;8000.&#34;</font><font color="#000000">)</font><font color="#000000">;</font><br/>
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">client.Connect</font><font color="#000000">(</font><font color="#000000">IPAddress.Parse</font><font color="#000000">(</font><font color="#2a00ff">&#34;127.0.0.1&#34;</font><font color="#000000">)</font><font color="#000000">,&nbsp;</font><font color="#990000">8000</font><font color="#000000">)</font><font color="#000000">;</font><br/>
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">Console.WriteLine</font><font color="#000000">(</font><font color="#2a00ff">&#34;Connection&nbsp;established.&#34;</font><font color="#000000">)</font><font color="#000000">;</font><br/>
<font color="#ffffff"></font><br/>
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">NetworkStream&nbsp;stream&nbsp;=&nbsp;client.GetStream</font><font color="#000000">()</font><font color="#000000">;</font><br/>
<font color="#ffffff"></font><br/>
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>using&nbsp;</b></font><font color="#000000">(</font><font color="#000000">BinaryWriter&nbsp;w&nbsp;=&nbsp;</font><font color="#7f0055"><b>new&nbsp;</b></font><font color="#000000">BinaryWriter</font><font color="#000000">(</font><font color="#000000">stream</font><font color="#000000">))</font><br/>
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">{</font><br/>
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}</font><br/>
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>using&nbsp;</b></font><font color="#000000">(</font><font color="#000000">BinaryReader&nbsp;r&nbsp;=&nbsp;</font><font color="#7f0055"><b>new&nbsp;</b></font><font color="#000000">BinaryReader</font><font color="#000000">(</font><font color="#000000">stream</font><font color="#000000">))</font><br/>
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">{</font><br/>
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}</font><br/>
<font color="#ffffff"></font><br/>
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}</font><br/>
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>catch&nbsp;</b></font><font color="#000000">(</font><font color="#000000">Exception&nbsp;err</font><font color="#000000">)</font><br/>
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">{</font><br/>
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">Console.WriteLine</font><font color="#000000">(</font><font color="#000000">err.ToString</font><font color="#000000">())</font><font color="#000000">;</font><br/>
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}</font><br/>
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#7f0055"><b>finally</b></font><br/>
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">{</font><br/>
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">client.Close</font><font color="#000000">()</font><font color="#000000">;</font><br/>
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">Console.WriteLine</font><font color="#000000">(</font><font color="#2a00ff">&#34;Port&nbsp;closed.&#34;</font><font color="#000000">)</font><font color="#000000">;</font><br/>
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}</font><br/>
<font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}</font><br/>
<font color="#000000">}</font></code></div></td>   </tr>
</table>
</td></tr>
</table><TABLE border=0><TR><TD height=20></TD></TR></TABLE>
<table cellpadding=0 cellspacing=0 width=800 border=0><tr><td colSpan=5>30.7.TcpClient</td></tr><tr class=odd><td width=20></td><td width=100>30.7.1.</td><td  align=left><A href="/Tutorial/CSharp/0580__Network/CreatingSocketConnections.htm">Creating Socket Connections</a></td><td width=32></td><td width=200></td></tr><tr class=even><td width=20></td><td width=100>30.7.2.</td><td  align=left><A href="/Tutorial/CSharp/0580__Network/UseaNetworkStreamtoreadfromaserver.htm">Use a NetworkStream to read from a server</a></td><td width=32></td><td width=200></td></tr><tr class=odd><td width=20></td><td width=100>30.7.3.</td><td  align=left><A href="/Tutorial/CSharp/0580__Network/CreateNetworkStreamfromTcpClient.htm">Create NetworkStream from TcpClient</a></td><td width=32></td><td width=200></td></tr><tr class=even><td width=20></td><td width=100>30.7.4.</td><td  align=left>use TcpClient to connect to a server</td><td width=32></td><td width=200></td></tr><tr class=odd><td width=20></td><td width=100>30.7.5.</td><td  align=left><A href="/Tutorial/CSharp/0580__Network/CreateBinaryWriterandBinaryReaderfromTcpClient.htm">Create BinaryWriter and BinaryReader from TcpClient</a></td><td width=32></td><td width=200></td></tr><tr class=even><td width=20></td><td width=100>30.7.6.</td><td  align=left><A href="/Tutorial/CSharp/0580__Network/UseTcpClienttowritetoreadfromaserver.htm">Use TcpClient to write to/read from a server</a></td><td width=32></td><td width=200></td></tr><tr class=odd><td width=20></td><td width=100>30.7.7.</td><td  align=left><A href="/Tutorial/CSharp/0580__Network/NetworkClientandStreamReader.htm">Network Client and StreamReader</a></td><td width=32></td><td width=200></td></tr><tr class=even><td width=20></td><td width=100>30.7.8.</td><td  align=left><A href="/Tutorial/CSharp/0580__Network/NetworkClientwithTcpClientandNetworkStream.htm">Network Client with TcpClient and NetworkStream</a></td><td width=32></td><td width=200></td></tr><tr class=odd><td width=20></td><td width=100>30.7.9.</td><td  align=left><A href="/Tutorial/CSharp/0580__Network/Writestringtoserver.htm">Write string to server</a></td><td width=32></td><td width=200></td></tr></table><TABLE border=0><TR><TD height=10></TD></TR></TABLE>
<script type="text/javascript"><!--
google_ad_client="pub-1130008796007602";google_ad_width=728;google_ad_height=90;google_ad_format="728x90_as";google_ad_type="text_image";google_ad_channel="";google_color_border="ffffff";google_color_bg="ffffff";google_color_link="003399";google_color_text="000000";google_color_url="75a3ed";
//--></script><script type="text/javascript"src="http://pagead2.googlesyndication.com/pagead/show_ads.js"></script></td></tr></table></td></tr></table><center><TABLE border=0><TR align=left><TD><A href="http://www.java2s.com">w__w__w.__j___a_v__a___2___s__.co__m</A> | <A href=http://www.java2s.com/html/contact.htm>Contact Us</A></Td></TR><TR align=left><TD class=Templatetext>Copyright 2009 - 12 Demo Source and Support. All rights reserved.</TD></TR><TR align=left><TD>All other trademarks are property of their respective owners.</TD></TR></TABLE></center></BODY></HTML>
