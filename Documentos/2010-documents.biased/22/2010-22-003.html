<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<title>CodeResource - C# Messages - Simulate Incorrect Content-length Headers For Http In C#</title>
<link rel="stylesheet" type="text/css" href="inc/css/css.css">
<meta name="description" content="A database of programming tutorials, scripts and talk.">
<meta name="keywords" content="coding, code, program, programming, design, tutorials, scripts, forum, chat, learn, teach">
<meta name="author" content="Purrrfect Entertainment Pty Ltd.">
<meta http-equiv="Content-Type" content="text/html;charset=ISO-8859-1">
<meta name="google-site-verification" content="YJQ0QEkNvgf2v3dVMwyik8JAEX5tEzbLyuFjy4PNARI" />
</head>
<body>

<table class='main'>
<tr>
<td colspan='2' id='header'>CodeResource</td>
</tr>
<tr>
<td colspan='2' id='menu'>

<a href='/'>HOME</a> - 
<a href='tutorials'>TUTORIALS</a> - 
<a href='scripts'>SCRIPTS</a> - 
<a href='messages'>MESSAGES</a>

</td>
</tr>
<tr>
<td colspan='2' id='content'>

<table cellpadding='0' cellspacing='0' width='100%'>
<tr>
<td align='center'>

<!-- Begin: AdBrite, Generated: 2009-10-17 10:51:34  -->
<script type="text/javascript">
var AdBrite_Title_Color = '0000FF';
var AdBrite_Text_Color = '000000';
var AdBrite_Background_Color = 'FFFFFF';
var AdBrite_Border_Color = 'CCCCCC';
var AdBrite_URL_Color = '008000';
try{var AdBrite_Iframe=window.top!=window.self?2:1;var AdBrite_Referrer=document.referrer==''?document.location:document.referrer;AdBrite_Referrer=encodeURIComponent(AdBrite_Referrer);}catch(e){var AdBrite_Iframe='';var AdBrite_Referrer='';}
</script>
<span style="white-space:nowrap;"><script type="text/javascript">document.write(String.fromCharCode(60,83,67,82,73,80,84));document.write(' src="http://ads.adbrite.com/mb/text_group.php?sid=1381423&zs=3732385f3930&ifr='+AdBrite_Iframe+'&ref='+AdBrite_Referrer+'" type="text/javascript">');document.write(String.fromCharCode(60,47,83,67,82,73,80,84,62));</script></span>
<!-- End: AdBrite -->

</td>
</tr>
</table>

<br />
<a href='/'>Home</a> &gt;&gt; <a href='messages'>Messages</a> &gt;&gt; <a href='messages-17-c'>C#</a>

<br /><br />

<table id='box' cellspacing='0'>
<tr>
<th colspan='2'>C# Messages</th>
</tr>
</table>

<br />

<table id='box' cellspacing='0'>
<tr style='background-color:#AAA'>
<td><a href='messages-17-270028-c-simulate_incorrect_contentlength_headers_for_http_in_c'>Simulate Incorrect Content-length Headers For Http In C#</a></td>
<td align='right'><b>Website:</b> <a href='websites-13-stack_overflow'>Stack Overflow</a></td>
</tr>
<tr style='background-color:#CCC'>
<td colspan='2'>We are building a comprehensive integration test framework in C# for our application which exists on top of HTTP using IIS7 to host our applications.<br />
<br />
As part of our integration tests we want to test incoming requests which will result in EndOfStreamExceptions (&quot;Unable to read beyond end of stream&quot;) that occur when a client sends up a HTTP header indicating a larger body size than it actually transmits as part of the body.  We want to test our error recovery code for this condition so we need to simulate these sorts of requests.<br />
<br />
I am looking for a .NET Fx-based socket library or custom HttpWebRequest replacement that specifically allows developers to simulate such conditions to add to our integration test suite.  Does anyone know of any such libraries?  A scriptable solution would work as well.</td>
</tr>
<tr style='background-color:#CCC'>
<td colspan='2' align='center' style='font-size:14px;'><a href='http://stackoverflow.com/questions/1329317' target='_blank'>View Full Topic And Replies</a></td>
</tr>
<tr style='background-color:#AAA'>
<td><b>Date Added:</b> 2009-10-18</td>
<td align='right'><b>Views:</b> 42</td>
</tr>
</table>

<br />

	<table id='box' cellspacing='0'>
	<tr>
	<th colspan='2'>Related C# Messages</th>
	</tr>
	</table>
	
	<br />
	
	<table id='box' cellspacing='0'>
	<tr>
	<td style='background-color:#CCC' valign='top'>
			&gt; <a href='messages-17-270028-c-simulate_incorrect_contentlength_headers_for_http_in_c#m314675'>Adjusting Httpwebrequest Connection Timeout In C#</a><br />
			&gt; <a href='messages-17-270028-c-simulate_incorrect_contentlength_headers_for_http_in_c#m312243'>Httpauth With C# Soapclient</a><br />
			&gt; <a href='messages-17-270028-c-simulate_incorrect_contentlength_headers_for_http_in_c#m308669'>Simulate Web Page Keystroke</a><br />
			&gt; <a href='messages-17-270028-c-simulate_incorrect_contentlength_headers_for_http_in_c#m306515'>C#: Canonical Http Post Code?</a><br />
			&gt; <a href='messages-17-270028-c-simulate_incorrect_contentlength_headers_for_http_in_c#m306154'>To Consume A Restful Web Service In C#, Should I Use Httpwebrequest?</a><br />
			&gt; <a href='messages-17-270028-c-simulate_incorrect_contentlength_headers_for_http_in_c#m306098'>Xmlhttprequest, Firefox Extension, And Error Code '1012' (access Denied)</a><br />
			&gt; <a href='messages-17-270028-c-simulate_incorrect_contentlength_headers_for_http_in_c#m305249'>How To Intercept Http Traffic</a><br />
			&gt; <a href='messages-17-270028-c-simulate_incorrect_contentlength_headers_for_http_in_c#m304738'>Specify Which Network Card/connection Winhttp Must Use</a><br />
			&gt; <a href='messages-17-270028-c-simulate_incorrect_contentlength_headers_for_http_in_c#m302227'>C# Keep Session Id Over Httpwebrequest</a><br />
			&gt; <a href='messages-17-270028-c-simulate_incorrect_contentlength_headers_for_http_in_c#m299917'>Why Is My .zip File Corrupted After An Http File Upload?</a><br />
			&gt; <a href='messages-17-270028-c-simulate_incorrect_contentlength_headers_for_http_in_c#m295818'>Search For Form Elements In Httpwebresponse-c#</a><br />
			&gt; <a href='messages-17-270028-c-simulate_incorrect_contentlength_headers_for_http_in_c#m291645'>C# Http Programming</a><br />
			&gt; <a href='messages-17-270028-c-simulate_incorrect_contentlength_headers_for_http_in_c#m291449'>Modifying Jpeg Headers In C#</a><br />
			&gt; <a href='messages-17-270028-c-simulate_incorrect_contentlength_headers_for_http_in_c#m290927'>Https Certificate Issue</a><br />
			&gt; <a href='messages-17-270028-c-simulate_incorrect_contentlength_headers_for_http_in_c#m289692'>Custom C# Httpmodule Infinite Redirect Loop</a><br />
			&gt; <a href='messages-17-270028-c-simulate_incorrect_contentlength_headers_for_http_in_c#m289086'>C# Threadpooling Httpwebrequests</a><br />
			&gt; <a href='messages-17-270028-c-simulate_incorrect_contentlength_headers_for_http_in_c#m288904'>Cross-platform Open-source Asychronous Http And Db With C#</a><br />
			&gt; <a href='messages-17-270028-c-simulate_incorrect_contentlength_headers_for_http_in_c#m288719'>Custom Http Header With Webservice Call</a><br />
			&gt; <a href='messages-17-270028-c-simulate_incorrect_contentlength_headers_for_http_in_c#m288526'>Really Weird Http Client Using Tcpclient In C#</a><br />
			&gt; <a href='messages-17-270028-c-simulate_incorrect_contentlength_headers_for_http_in_c#m281185'>How To Use Http Post With Proxy Support In  C#</a><br />
		</td>
	<td align='right' width='25%' valign='top'>
	
	<!-- Begin: AdBrite, Generated: 2009-10-17 11:03:40  -->
	<script type="text/javascript">
	var AdBrite_Title_Color = '0000FF';
	var AdBrite_Text_Color = '000000';
	var AdBrite_Background_Color = 'FFFFFF';
	var AdBrite_Border_Color = 'CCCCCC';
	var AdBrite_URL_Color = '008000';
	try{var AdBrite_Iframe=window.top!=window.self?2:1;var AdBrite_Referrer=document.referrer==''?document.location:document.referrer;AdBrite_Referrer=encodeURIComponent(AdBrite_Referrer);}catch(e){var AdBrite_Iframe='';var AdBrite_Referrer='';}
	</script>
	<script type="text/javascript">document.write(String.fromCharCode(60,83,67,82,73,80,84));document.write(' src="http://ads.adbrite.com/mb/text_group.php?sid=1381437&zs=3330305f323530&ifr='+AdBrite_Iframe+'&ref='+AdBrite_Referrer+'" type="text/javascript">');document.write(String.fromCharCode(60,47,83,67,82,73,80,84,62));</script>
	<!-- End: AdBrite -->
	
	</td>
	</tr>
	</table>
	
			<br />
		
		<table id='box' cellspacing='0'>
		<tr style='background-color:#AAA'>
		<td><a name='m314675'></a><a href='messages-17-314675-c-adjusting_httpwebrequest_connection_timeout_in_c'>Adjusting Httpwebrequest Connection Timeout In C#</a></td>
		<td align='right'><b>Date Added:</b> 2009-10-18</td>
		</tr>
		<tr style='background-color:#CCC'>
		<td colspan='2'>I believe after lengthy research and searching, I have discovered that what I want to do is probably better served by setting up an asynchronous connection and terminating it after the desired timeout... But I will go ahead and ask anyway!<br />
<br />
Quick snippet of code:<br />
<br />
HttpWebRequest webReq = (HttpWebRequest)HttpWebRequest.Create(url);<br />
webReq.Timeout = 5000;<br />
HttpWebResponse response = (HttpWebResponse)webReq.GetResponse(); // this takes ~20+ sec on servers that aren't on the proper port, etc.<br />
<br />
<br />
I have an HttpWebRequest method that is in a multi-threaded application, in which I am connecting to a large number of company web servers. In cases where the server is not responding, the HttpWebRequest.GetResponse() is taking about 20 seconds to time out, even though I have specified a timeout of only 5 seconds. In the interest of getting through the servers on a regular interval, I want to skip those taking longer than 5 seconds to connect to.<br />
<br />
So the question is: &quot;Is there a simple way to specify/decrease a connection timeout for a WebRequest or HttpWebRequest?&quot;</td>
		</tr>
		</table>
			<br />
		
		<table id='box' cellspacing='0'>
		<tr style='background-color:#AAA'>
		<td><a name='m312243'></a><a href='messages-17-312243-c-httpauth_with_c_soapclient'>Httpauth With C# Soapclient</a></td>
		<td align='right'><b>Date Added:</b> 2009-10-18</td>
		</tr>
		<tr style='background-color:#CCC'>
		<td colspan='2'>Hi,<br />
<br />
Im wondering how to apply HttpAuth on a C# SoapClient(WebService proxy).<br />
<br />
I have googled and read a lot that you can set the Credentials property(applying a NetworkCredentials object). But I cant seem to find this property on this object..<br />
<br />
Would be greatful for any help,<br />
<br />
//Robin</td>
		</tr>
		</table>
			<br />
		
		<table id='box' cellspacing='0'>
		<tr style='background-color:#AAA'>
		<td><a name='m308669'></a><a href='messages-17-308669-c-simulate_web_page_keystroke'>Simulate Web Page Keystroke</a></td>
		<td align='right'><b>Date Added:</b> 2009-10-18</td>
		</tr>
		<tr style='background-color:#CCC'>
		<td colspan='2'>Is it possible for C# app to simulate keystrokes on a web Page?<br />
for example, there is jsp page and I need input text data and click the submit button on that page.</td>
		</tr>
		</table>
			<br />
		
		<table id='box' cellspacing='0'>
		<tr style='background-color:#AAA'>
		<td><a name='m306515'></a><a href='messages-17-306515-c-c_canonical_http_post_code'>C#: Canonical Http Post Code?</a></td>
		<td align='right'><b>Date Added:</b> 2009-10-18</td>
		</tr>
		<tr style='background-color:#CCC'>
		<td colspan='2'>I've seen so many implementations of sending an http post, and admittedly I don't fully understand the underlying details to know what's required.<br />
<br />
What is the succinct/correct/canonical code to send an HTTP POST in C# .NET 3.5?<br />
<br />
I want a generic method like<br />
<br />
public string SendPost(string url, string data)<br />
<br />
<br />
that can be added to a library and always used for posting data and will return the server response.</td>
		</tr>
		</table>
			<br />
		
		<table id='box' cellspacing='0'>
		<tr style='background-color:#AAA'>
		<td><a name='m306154'></a><a href='messages-17-306154-c-to_consume_a_restful_web_service_in_c_should_i_use_httpwebrequest'>To Consume A Restful Web Service In C#, Should I Use Httpwebrequest?</a></td>
		<td align='right'><b>Date Added:</b> 2009-10-18</td>
		</tr>
		<tr style='background-color:#CCC'>
		<td colspan='2'>How do I consume a RESTful web service in C# code?<br />
<br />
NOTE: by RESTful, I mean non-SOAP. For example, in the flickr API you can call their web service as follows to return JSON data:<br />
<br />
http://api.flickr.com/services/feeds/photos_public.gne?tags=cats&amp;tagmode=any&amp;format=json<br />
<br />
Do I simply use HttpWebRequest?<br />
<br />
What if I'm using a web service that takes POST parameters? Would that use HttpWebRequest also?<br />
<br />
Is there any benefit to using WCF on the consumer side?</td>
		</tr>
		</table>
			<br />
		
		<table id='box' cellspacing='0'>
		<tr style='background-color:#AAA'>
		<td><a name='m306098'></a><a href='messages-17-306098-c-xmlhttprequest_firefox_extension_and_error_code_1012_access_denied'>Xmlhttprequest, Firefox Extension, And Error Code '1012' (access Denied)</a></td>
		<td align='right'><b>Date Added:</b> 2009-10-18</td>
		</tr>
		<tr style='background-color:#CCC'>
		<td colspan='2'>I'm working on a FireFox extension that uses XMLHttpRequest to grab data from a remote server.<br />
<br />
The javascript code is as follows:<br />
<br />
function _PostBackObject(data) {<br />
    var postBack = new XMLHttpRequest();<br />
    postBack.onreadystatechange =<br />
        function(){<br />
            if (postBack.readyState == 4) {<br />
                if (postBack.status == 200) {<br />
                    // Success<br />
                    return;<br />
                }<br />
<br />
                _ErrorOccured(postBack.status);<br />
            }<br />
        };<br />
<br />
    postBack.open(&quot;POST&quot;, postBackUrl, true, user, password);  //This is line #51<br />
    postBack.send(data);<br />
}<br />
<br />
<br />
I get the following error in the FireFox console:<br />
<br />
<br />
  Error: uncaught exception:<br />
  [Exception... &quot;Access to restricted<br />
  URI denied&quot;  code: &quot;1012&quot; nsresult:<br />
  &quot;0x805303f4 (NS_ERROR_DOM_BAD_URI)&quot; <br />
  location:<br />
  &quot;chrome://my_ext/content/context.js<br />
  Line: 51&quot;]<br />
<br />
<br />
The postBackUrl can be anything (for testing purposes I've been using local machine [127.0.0.1] and a server sitting on my local network [so 192.168.*.*], both on port 8088) as it is user entered.<br />
<br />
It looks like I'm tripping over XSS security measures.  How would I work around this?<br />
<br />
Some additional details:  <br />
<br />
<br />
FireFox 3.5.3 (it's acceptable to restrict to this and newer)<br />
Unsigned extension (I would self-sign it, but that's quite a hassle and gains you nothing as far as I can tell)<br />
I have complete control over the remote server (its a custom setup, not Apache or IIS, written in C# for .NET 3.5)</td>
		</tr>
		</table>
			<br />
		
		<table id='box' cellspacing='0'>
		<tr style='background-color:#AAA'>
		<td><a name='m305249'></a><a href='messages-17-305249-c-how_to_intercept_http_traffic'>How To Intercept Http Traffic</a></td>
		<td align='right'><b>Date Added:</b> 2009-10-18</td>
		</tr>
		<tr style='background-color:#CCC'>
		<td colspan='2'>I am trying to develop a C# application that will intercept an outgoing Http request and return a result to an old system. We have a legacy system that makes an Http request to a discontinued web service. I need to intercept the out going request and send it to a new web service. When the response comes back I need to manipulate it then send it on to the legacy system. All the code needs to sit on the client machine. I thought something along the lines of http listener would work but I am not getting anywhere with that, any suggestions would be greatly appreciated.</td>
		</tr>
		</table>
			<br />
		
		<table id='box' cellspacing='0'>
		<tr style='background-color:#AAA'>
		<td><a name='m304738'></a><a href='messages-17-304738-c-specify_which_network_cardconnection_winhttp_must_use'>Specify Which Network Card/connection Winhttp Must Use</a></td>
		<td align='right'><b>Date Added:</b> 2009-10-18</td>
		</tr>
		<tr style='background-color:#CCC'>
		<td colspan='2'>I have an application in C# that utilizes Winhttp to make web requests. Is there a way to specify which network card WinHTTP must utilize for its connections?</td>
		</tr>
		</table>
			<br />
		
		<table id='box' cellspacing='0'>
		<tr style='background-color:#AAA'>
		<td><a name='m302227'></a><a href='messages-17-302227-c-c_keep_session_id_over_httpwebrequest'>C# Keep Session Id Over Httpwebrequest</a></td>
		<td align='right'><b>Date Added:</b> 2009-10-18</td>
		</tr>
		<tr style='background-color:#CCC'>
		<td colspan='2'>I need to preserve the same session id when navigating over a site's pages using C#.Net (like a crawler). I found a couple of methods, a http sniffer was very handy, to compare what my IE browser was sending (HTTP request) and receiving from the web server (HTTP response), as the important information is in the headers (that are not displayed by the browser).<br />
Please don't make confusion between session id which is public from server to browser, and server's session variables which are private to server code (like php).<br />
<br />
WebHeaderCollection headerCollection = new WebHeaderCollection();<br />
using (HttpWebResponse response = (HttpWebResponse)request.GetResponse())<br />
{<br />
  /* save headers */<br />
  for (int i = 0; i &lt; response.Headers.Count; i++)<br />
  {<br />
     headerCollection.Add(response.Headers.AllKeys[i], response.Headers.Get(i));<br />
  }<br />
  /* save cookies */<br />
  cookieContainer = new CookieContainer();<br />
  foreach (Cookie cookie in response.Cookies)<br />
  {<br />
    cookieContainer.Add(cookie);<br />
  }<br />
}<br />
<br />
<br />
to make the other GET or POST requests:<br />
<br />
HttpWebRequest request = (HttpWebRequest)WebRequest.Create(uri);<br />
...<br />
/* restore PHPSESSID */<br />
for (int i = 0; i &lt; headerCollection.Count; i++)<br />
{<br />
 string key = headerCollection.GetKey(i);<br />
 if (key == &quot;Set-Cookie&quot;)<br />
 {<br />
  key = &quot;Cookie&quot;;<br />
 }<br />
 else<br />
 {<br />
  continue;<br />
 }<br />
 string value = headerCollection.Get(i);<br />
 request.Headers.Add(key, value);<br />
}<br />
/* restore cookies */<br />
request.CookieContainer = cookieContainer;<br />
/* complete request */<br />
Stream writeStream = request.GetRequestStream()<br />
<br />
<br />
My request is to contribute with better code, or additional ideas to make a better crawler session preserving.</td>
		</tr>
		</table>
			<br />
		
		<table id='box' cellspacing='0'>
		<tr style='background-color:#AAA'>
		<td><a name='m299917'></a><a href='messages-17-299917-c-why_is_my_zip_file_corrupted_after_an_http_file_upload'>Why Is My .zip File Corrupted After An Http File Upload?</a></td>
		<td align='right'><b>Date Added:</b> 2009-10-18</td>
		</tr>
		<tr style='background-color:#CCC'>
		<td colspan='2'>I'm trying to use a CGI script to accept and save a file from a program that is using an HTTP POST to send a zip file.<br />
<br />
In the MIME section of the HTTP header it looks something like this:<br />
<br />
Content-Disposition: form-data; name=&quot;el_upload_file_0&quot;; filename=&quot;BugReport.zip&quot;;\r\n<br />
Content-Type: application/octet-stream\r\n\r\n<br />
<br />
<br />
In my CGI code I'm using this:<br />
<br />
 use CGI;<br />
 use strict;<br />
 my $cgi = CGI-&gt;new;<br />
 my $upload_file = $cgi-&gt;upload('el_upload_file_0');<br />
 my $time = time;<br />
<br />
 my $filename = &quot;/tmp/$time.zip&quot;;<br />
 open TMP, &quot;&gt;$filename&quot;;<br />
 binmode TMP;<br />
 while (&lt;$upload_file&gt;) {<br />
    print TMP $_;<br />
 }<br />
 close TMP;<br />
<br />
<br />
The file that keeps getting saved is somehow getting corrupt and is not a valid zip file.  The HTTP request is being sent by a C# app and it's possible that it might be sending a corrupt zip file, but I doubt it.  Is there anything I can do to troubleshoot further?</td>
		</tr>
		</table>
			<br />
		
		<table id='box' cellspacing='0'>
		<tr style='background-color:#AAA'>
		<td><a name='m295818'></a><a href='messages-17-295818-c-search_for_form_elements_in_httpwebresponsec'>Search For Form Elements In Httpwebresponse-c#</a></td>
		<td align='right'><b>Date Added:</b> 2009-10-18</td>
		</tr>
		<tr style='background-color:#CCC'>
		<td colspan='2'>I have a HTTPPPot whose return I capture using :<br />
<br />
WebResponse webResponse = httpWebRequest.GetResponse();<br />
<br />
Stream responseStream = webResponse.GetResponseStream();<br />
<br />
StreamReader responseReader = new StreamReader(responseStream);<br />
<br />
string responseString = responseReader.ReadToEnd();<br />
<br />
<br />
In the response string, the client returns the following<br />
<br />
&lt;input type=&quot;hidden&quot; name=&quot;Location&quot; value=&quot;sometext.txt&quot;&gt;&lt;input type=&quot;hidden&quot; name=&quot;tableid&quot; value=&quot;2&quot;&gt;&lt;input type=&quot;hidden&quot; name=&quot;GroupID&quot; value=&quot;1236781329&quot;&gt;<br />
<br />
<br />
Based on the above, I need to obtain the values of each form element. I do know the names of the hidden form elements. Is there a quick way to obatin this without reading the entire response line by line and determining if the line contains any pattern that I am lookinng for?</td>
		</tr>
		</table>
			<br />
		
		<table id='box' cellspacing='0'>
		<tr style='background-color:#AAA'>
		<td><a name='m291645'></a><a href='messages-17-291645-c-c_http_programming'>C# Http Programming</a></td>
		<td align='right'><b>Date Added:</b> 2009-10-18</td>
		</tr>
		<tr style='background-color:#CCC'>
		<td colspan='2'>Hello there, i want to build a piece of software that will process some html forms, the software will be a kind of bot that will process some forms on my website automatically. <br />
<br />
Is there anyone who can give me some basic steps how to do this job...Any tutorials, samples, books or whatever can help me. <br />
<br />
Can some of you post an working code with POST method ?</td>
		</tr>
		</table>
			<br />
		
		<table id='box' cellspacing='0'>
		<tr style='background-color:#AAA'>
		<td><a name='m291449'></a><a href='messages-17-291449-c-modifying_jpeg_headers_in_c'>Modifying Jpeg Headers In C#</a></td>
		<td align='right'><b>Date Added:</b> 2009-10-18</td>
		</tr>
		<tr style='background-color:#CCC'>
		<td colspan='2'>I'm trying to open a file to bytes, convert it to a string, modify some data (think Steganography) and convert the file back to bytes and save it as a jpeg. So far, everything I've tried has corrupted the file in converting it to a string. I've tried converting it to a 64-bit string, but of course that's a bit hard to modify the data in :P<br />
<br />
Any suggestions on how I can do this properly, without corrupting my file?</td>
		</tr>
		</table>
			<br />
		
		<table id='box' cellspacing='0'>
		<tr style='background-color:#AAA'>
		<td><a name='m290927'></a><a href='messages-17-290927-c-https_certificate_issue'>Https Certificate Issue</a></td>
		<td align='right'><b>Date Added:</b> 2009-10-18</td>
		</tr>
		<tr style='background-color:#CCC'>
		<td colspan='2'>Hello everyone,<br />
<br />
I need to use some certificate on IIS 7.0 web server to test my https code at client side (console application). I have created self-signed certificate and it is fine. Now I want to test with formal certificate which IE could recognize, like certificates from verisign or other formal certificate issuing companies.<br />
<br />
Any easy way to get some free and formal certificate? I only need to test for a few days.<br />
<br />
I am developing using VSTS 2008 + C# + .Net 3.5 + IIS 7.0.<br />
<br />
Here is what verisign returns when I create a free trial certificate, I am not sure what is wrong?<br />
<br />
Error 950e - Invalid Common Name Error The common name in the CSR contains invalid characters like '?', '*', ':', ' '.  <br />
<br />
If you continue to receive this error or have further questions, you may write to support@verisign.com for assistance. Please include the following information in your correspondence:<br />
<br />
<br />
Product or service you are enrolling for<br />
Your server software vendor (for server certificates)<br />
Common Name of your certificate (for example, www.verisign.com)<br />
URL where you are experiencing this error message.<br />
<br />
<br />
thanks in advance,<br />
George</td>
		</tr>
		</table>
			<br />
		
		<table id='box' cellspacing='0'>
		<tr style='background-color:#AAA'>
		<td><a name='m289692'></a><a href='messages-17-289692-c-custom_c_httpmodule_infinite_redirect_loop'>Custom C# Httpmodule Infinite Redirect Loop</a></td>
		<td align='right'><b>Date Added:</b> 2009-10-18</td>
		</tr>
		<tr style='background-color:#CCC'>
		<td colspan='2'>I am writing a custom c# HttpModule that will handle requests from all file types. As a simple proof of concept I have setup the module by adding a reference to the httpModules section of the web config and added application extensions for the demo IIS website with a reference to the aspnet_isapi.dll so that it currently only intercepts request for &quot;.htm&quot; files <br />
<br />
But even if there is no significant code in the &quot;OnBeginRequest&quot; event (code below) it causes an infinite redirect loop. I am using IIS 5 on XP Anyone got any ideas? <br />
<br />
So far I have only seen HttpModule examples for use with ASPX files but surely you can configure the for any file type?<br />
<br />
<br />
#region IHttpModule Members<br />
<br />
        public void Dispose() { }<br />
<br />
        public void Init(HttpApplication context)<br />
        {<br />
            context.BeginRequest += new EventHandler(OnBeginRequest);<br />
        }<br />
<br />
        /// <br />
        ///<br />
        /// <br />
        /// <br />
        public void OnBeginRequest(Object s, EventArgs e)<br />
        {<br />
            HttpApplication context = s as HttpApplication;<br />
<br />
            Uri currentURL = context.Request.Url;<br />
            string pageName = currentURL.Segments.Last().ToLower();<br />
        }<br />
#endregion</td>
		</tr>
		</table>
			<br />
		
		<table id='box' cellspacing='0'>
		<tr style='background-color:#AAA'>
		<td><a name='m289086'></a><a href='messages-17-289086-c-c_threadpooling_httpwebrequests'>C# Threadpooling Httpwebrequests</a></td>
		<td align='right'><b>Date Added:</b> 2009-10-18</td>
		</tr>
		<tr style='background-color:#CCC'>
		<td colspan='2'>I've read and looked a quite a few examples for Threadpooling but I just cant seem to understand it they way I need to. What I have manage to get working is not really what I need. It just runs the function in its own thread.<br />
<br />
public static void Main()<br />
    {<br />
        while (true)<br />
        {<br />
            try<br />
            {<br />
                ThreadPool.QueueUserWorkItem(new WaitCallback(Process));<br />
                Console.WriteLine(&quot;ID has been queued for fetching&quot;);<br />
            }<br />
            catch (Exception ex)<br />
            {<br />
                Console.WriteLine(&quot;Error: &quot; + ex.Message);<br />
            }<br />
            Console.ReadLine();<br />
        }<br />
    }<br />
<br />
public static void Process(object state)<br />
{<br />
<br />
    var s = StatsFecther(&quot;byId&quot;, &quot;0&quot;); //returns all player stats<br />
    Console.WriteLine(&quot;Account: &quot; + s.nickname);<br />
    Console.WriteLine(&quot;ID: &quot; + s.account_id);<br />
    Console.ReadLine();<br />
}<br />
<br />
<br />
What I'm trying to do is have about 50 threads going (maybe more) that fetch serialized php data containing player stats. Starting from user 0 all the way up to a user ID i specify (300,000). My question is not about how to fetch the stats I know how to get the stats and read them, But how I write a Threadpool that will keep fetching stats till it gets to 300,000th user ID without stepping on the toes of the other threads and saves the stats as it retrieves them to a Database.</td>
		</tr>
		</table>
			<br />
		
		<table id='box' cellspacing='0'>
		<tr style='background-color:#AAA'>
		<td><a name='m288904'></a><a href='messages-17-288904-c-crossplatform_opensource_asychronous_http_and_db_with_c'>Cross-platform Open-source Asychronous Http And Db With C#</a></td>
		<td align='right'><b>Date Added:</b> 2009-10-18</td>
		</tr>
		<tr style='background-color:#CCC'>
		<td colspan='2'>Does anyone know of a good resource for open-source libraries for asynchronous C# (or native stuff to the language). I'm interested in anything on this topic, but I'm specifically looking for stuff pertaining to HTTP and DB calls. Maybe an event-driven framework with plugs for HTTP and DB?<br />
<br />
Please do not buzz in with a non-C# solution or anything that does not work on mono (unless it is planned to run on mono soon).</td>
		</tr>
		</table>
			<br />
		
		<table id='box' cellspacing='0'>
		<tr style='background-color:#AAA'>
		<td><a name='m288719'></a><a href='messages-17-288719-c-custom_http_header_with_webservice_call'>Custom Http Header With Webservice Call</a></td>
		<td align='right'><b>Date Added:</b> 2009-10-18</td>
		</tr>
		<tr style='background-color:#CCC'>
		<td colspan='2'>Hi,<br />
I need to make a webservice call in C# and with every request i need to send a custom HTTP header. How do i do this.<br />
<br />
thanks</td>
		</tr>
		</table>
			<br />
		
		<table id='box' cellspacing='0'>
		<tr style='background-color:#AAA'>
		<td><a name='m288526'></a><a href='messages-17-288526-c-really_weird_http_client_using_tcpclient_in_c'>Really Weird Http Client Using Tcpclient In C#</a></td>
		<td align='right'><b>Date Added:</b> 2009-10-18</td>
		</tr>
		<tr style='background-color:#CCC'>
		<td colspan='2'>I am implementing a really simple HTTP Client that just connects to a web server and gets it's default homepage. Here it is and it works nice:<br />
<br />
using System;<br />
using System.Net.Sockets;<br />
<br />
namespace ConsoleApplication1<br />
{<br />
    class Program<br />
    {<br />
        static void Main(string[] args)<br />
        {<br />
            TcpClient tc = new TcpClient();<br />
            tc.Connect(&quot;www.google.com&quot;, 80);<br />
<br />
            using (NetworkStream ns = tc.GetStream())<br />
            {<br />
                System.IO.StreamWriter sw = new System.IO.StreamWriter(ns);<br />
                System.IO.StreamReader sr = new System.IO.StreamReader(ns);<br />
<br />
                string req = &quot;&quot;;<br />
                req += &quot;GET / HTTP/1.0\r\n&quot;;<br />
                req += &quot;Host: www.google.com\r\n&quot;;<br />
                req += &quot;\r\n&quot;;<br />
<br />
                sw.Write(req);<br />
                sw.Flush();<br />
<br />
                Console.WriteLine(&quot;[reading...]&quot;);<br />
                Console.WriteLine(sr.ReadToEnd());<br />
            }<br />
            tc.Close();<br />
            Console.WriteLine(&quot;[done!]&quot;);<br />
            Console.ReadKey();<br />
        }<br />
    }<br />
}<br />
<br />
<br />
<br />
<br />
When i delete the below line from above code, the program blocks on sr.ReadToEnd. <br />
<br />
req += &quot;Host: www.google.com\r\n&quot;;<br />
<br />
<br />
I even replaced sr.ReadToEnd with sr.Read, but it cannot read anything! I used Wireshark to see what's happen: <br />
<br />
<br />
<br />
As you see, after my GET request Google doesn't respond and the request retransmitted again and again. It seems we HAVE TO specify the Host part in HTTP request. The weird part is WE DON'T! I used telnet to send this request and Google responded to me! I even captured the request sent by telnet and it was same as my request! <br />
<br />
I tried many other websites: Yahoo, Microsoft, AMD,... but the result was same!<br />
<br />
So, does the delay in telnet cause the webserver acts different (because in telnet we TYPE characters instead of sending them together in 1 packet).<br />
<br />
<br />
<br />
Another weird problem is when i change HTTP/1.0 to HTTP/1.1 the program always blocks on sr.ReadToEnd. I think because the web server don't close the connection.<br />
<br />
One solution is using Read (or ReadLine) and ns.DataAvailable to read response. But i cannot be sure that i will read all of the response. How i can read the response and be sure i read all of the response in HTTP/1.1 request? <br />
<br />
<br />
<br />
Note:<br />
As W3 says the Host request-header field MUST accompany all HTTP/1.1 requests (and i did it for my HTTP/1.1 requests). But i didn't saw such thing about HTTP/1.0. Also telnet works without the Host part.<br />
<br />
<br />
<br />
Update:<br />
<br />
Push flag is set (1) in TCP segment. I even tried netsh winsock reset to reset my TCP/IP stack. There is no firewalls nor anti-viruses. And the packet Really sent because Wireshark can see it!<br />
<br />
I tried some other request like this:<br />
<br />
string req = &quot;&quot;;<br />
req += &quot;GET / HTTP/1.0\r\n&quot;;<br />
req += &quot;s df slkjfd sdf/ s/fd \\sdf/\\\\dsfdsf \r\n&quot;;<br />
req += &quot;qwretyuiopasdfghjkl\r\n&quot;;<br />
req += &quot;Host: www.google.com\r\n&quot;;<br />
req += &quot;\r\n&quot;;<br />
<br />
<br />
In all of the request, if I omit the Host: the Web-server don't respond to me and if have the Host: part, even a invalid request (just like above request) will be responded (by a 400: HTTP Bad Request).<br />
<br />
But as nos says, the Host: part is not required on his machine! And this is really really WEIRD! :(</td>
		</tr>
		</table>
			<br />
		
		<table id='box' cellspacing='0'>
		<tr style='background-color:#AAA'>
		<td><a name='m281185'></a><a href='messages-17-281185-c-how_to_use_http_post_with_proxy_support_in__c'>How To Use Http Post With Proxy Support In  C#</a></td>
		<td align='right'><b>Date Added:</b> 2009-10-18</td>
		</tr>
		<tr style='background-color:#CCC'>
		<td colspan='2'>how to use http post with proxy support in  c# and multipart  form data upload method</td>
		</tr>
		</table>
	
</td>
</tr>
<tr>
<td colspan='2' id='footer'>Copyright &copy; 2009 CodeResource</td>
</tr>
</table>


<!-- Begin: AdBrite, Generated: 2009-10-20 10:20:25  -->
<script type="text/javascript" src="http://ads.adbrite.com/mb/text_group.php?sid=1381419&br=1&dk=6170706c7920666f7220612063726564697420636172645f305f325f776562"></script>
<!-- End: AdBrite -->

<!-- Start Quantcast tag -->
<script type="text/javascript">
_qoptions={
qacct:"p-4bcEmF3nz13wM"
};
</script>
<script type="text/javascript" src="http://edge.quantserve.com/quant.js"></script>
<noscript>
<img src="http://pixel.quantserve.com/pixel/p-4bcEmF3nz13wM.gif" style="display: none;" border="0" height="1" width="1" alt="Quantcast"/>
</noscript>
<!-- End Quantcast tag -->


</body>
</html>